<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·∫£i m√£ File</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê File Encryption App</h1>
            <p>M√£ h√≥a v√† b·∫£o v·ªá file c·ªßa b·∫°n</p>
        </header>

        <nav>
            <a href="/">Trang ch·ªß</a>
            <a href="/encrypt">M√£ h√≥a</a>
            <a href="/decrypt" class="active">Gi·∫£i m√£</a>
        </nav>

        <main>
            <!-- Hi·ªÉn th·ªã th√¥ng b√°o -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="messages">
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <div class="form-container">
                <h2>üîì Gi·∫£i m√£ file</h2>
                <p class="subtitle">Ch·ªçn file ƒë√£ m√£ h√≥a v√† nh·∫≠p password</p>

                <form method="POST" enctype="multipart/form-data" id="decryptForm">
                    <div class="form-group">
                        <label for="file">
                            <span class="label-text">üìÅ Ch·ªçn file ƒë√£ m√£ h√≥a</span>
                            <span class="label-hint">File c√≥ ƒëu√¥i .encrypted</span>
                        </label>
                        <div class="file-upload-wrapper">
                            <input type="file" name="file" id="file" required>
                            <div class="file-upload-display" id="fileDisplay">
                                <div class="upload-icon">üì•</div>
                                <p>K√©o th·∫£ file v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</p>
                                <p class="file-info" id="fileInfo"></p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password">
                            <span class="label-text">üîë Password</span>
                            <span class="label-hint">Nh·∫≠p ƒë√∫ng password ƒë√£ d√πng khi m√£ h√≥a</span>
                        </label>
                        <input type="password" name="password" id="password" 
                               placeholder="Nh·∫≠p password" 
                               required>
                        <small class="form-hint warning">‚ö†Ô∏è N·∫øu sai password, file s·∫Ω kh√¥ng th·ªÉ gi·∫£i m√£</small>
                    </div>

                    <button type="submit" class="btn btn-secondary btn-full">
                        üîì Gi·∫£i m√£ file
                    </button>
                </form>

                <div class="info-box">
                    <h4>‚ÑπÔ∏è L∆∞u √Ω khi gi·∫£i m√£:</h4>
                    <ul>
                        <li>Ph·∫£i nh·∫≠p <strong>ch√≠nh x√°c</strong> password ƒë√£ d√πng khi m√£ h√≥a</li>
                        <li>File ƒë√£ m√£ h√≥a th∆∞·ªùng c√≥ ƒëu√¥i <code>.encrypted</code></li>
                        <li>Sau khi gi·∫£i m√£ th√†nh c√¥ng, file g·ªëc s·∫Ω ƒë∆∞·ª£c t·∫£i v·ªÅ</li>
                        <li>N·∫øu qu√™n password, <strong>kh√¥ng th·ªÉ</strong> kh√¥i ph·ª•c file</li>
                    </ul>
                </div>

                <div class="troubleshooting">
                    <h4>üîß G·∫∑p v·∫•n ƒë·ªÅ?</h4>
                    <details>
                        <summary>Kh√¥ng gi·∫£i m√£ ƒë∆∞·ª£c file</summary>
                        <p>Ki·ªÉm tra:</p>
                        <ul>
                            <li>Password c√≥ ch√≠nh x√°c kh√¥ng?</li>
                            <li>File c√≥ b·ªã h·ªèng ho·∫∑c s·ª≠a ƒë·ªïi kh√¥ng?</li>
                            <li>File c√≥ ph·∫£i ƒë∆∞·ª£c m√£ h√≥a b·ªüi app n√†y kh√¥ng?</li>
                        </ul>
                    </details>
                    <details>
                        <summary>File t·∫£i v·ªÅ b·ªã l·ªói</summary>
                        <p>C√≥ th·ªÉ do:</p>
                        <ul>
                            <li>Password sai ‚Üí Th·ª≠ l·∫°i v·ªõi password ƒë√∫ng</li>
                            <li>File g·ªëc qu√° l·ªõn ‚Üí ƒê·ª£i l√¢u h∆°n khi t·∫£i</li>
                        </ul>
                    </details>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 File Encryption App</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>